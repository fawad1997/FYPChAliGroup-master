@model WeddingVibes.Models.Reservation.Reservation

@{
    ViewData["Title"] = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Create</h2>

<h2 style="color:white;"><center>Reservation</center></h2>
<hr />

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html class="supernova">
<head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <meta name="HandheldFriendly" content="true" />
    <title>Form</title>
    <link href="https://cdn.jotfor.ms/static/formCss.css?3.3.6704" rel="stylesheet" type="text/css" />
    <link type="text/css" media="print" rel="stylesheet" href="https://cdn.jotfor.ms/css/printForm.css?3.3.6704" />
    <link type="text/css" rel="stylesheet" href="https://cdn.jotfor.ms/css/styles/nova.css?3.3.6704" />
    <link type="text/css" rel="stylesheet" href="https://cdn.jotfor.ms/themes/CSS/551913e0977cdf067e8b4567.css?themeRevisionID=57debcc69a11c71ebe8b4567" />
    <style type="text/css">
        .form-label-left {
            width: 150px;
        }

        .form-line {
            padding-top: 10px;
            padding-bottom: 10px;
        }

        .form-label-right {
            width: 150px;
        }

        body, html {
            margin: 0;
            padding: 0;
            background: rgba(4, 19, 13, 0.79);
        }

        .form-all {
            margin: 0px auto;
            padding-top: 0px;
            width: 550px;
            color: rgb(255, 255, 255) !important;
            font-family: 'Libre Baskerville';
            font-size: 16px;
        }
        
        /* Injected CSS Code */
        /*PREFERENCES STYLE*/
        .form-all {
            font-family: Libre Baskerville, sans-serif;
        }

            .form-all .qq-upload-button,
            .form-all .form-submit-button,
            .form-all .form-submit-reset,
            .form-all .form-submit-print {
                font-family: Libre Baskerville, sans-serif;
            }

            .form-all .form-pagebreak-back-container,
            .form-all .form-pagebreak-next-container {
                font-family: Libre Baskerville, sans-serif;
            }

        .form-header-group {
            font-family: Libre Baskerville, sans-serif;
        }

        .form-label {
            font-family: Libre Baskerville, sans-serif;
        }

            .form-label.form-label-auto {
                display: inline-block;
                float: left;
                text-align: left;
            }

        .form-line {
            margin-top: 10px;
            margin-bottom: 10px;
        }

        .form-all {
            width: 550px;
        }

        .form-label-left,
        .form-label-right,
        .form-label-left.form-label-auto,
        .form-label-right.form-label-auto {
            width: 150px;
        }

        .form-all {
            font-size: 16px
        }

            .form-all .qq-upload-button,
            .form-all .qq-upload-button,
            .form-all .form-submit-button,
            .form-all .form-submit-reset,
            .form-all .form-submit-print {
                font-size: 16px
            }

            .form-all .form-pagebreak-back-container,
            .form-all .form-pagebreak-next-container {
                font-size: 16px
            }

        .supernova .form-all, .form-all {
            background-color: rgba(4, 19, 13, 0.79);
            border: 1px solid transparent;
        }

        .form-all {
            color: rgb(255, 255, 255);
        }

        .form-header-group .form-header {
            color: rgb(255, 255, 255);
        }

        .form-header-group .form-subHeader {
            color: rgb(255, 255, 255);
        }

        .form-label-top,
        .form-label-left,
        .form-label-right,
        .form-html,
        .form-checkbox-item label,
        .form-radio-item label {
            color: rgb(255, 255, 255);
        }

        .form-sub-label {
            color: #1a1a1a;
        }

        .supernova {
            background-color: rgb(195, 195, 195);
        }

            .supernova body {
                background: transparent;
            }

        .form-textbox,
        .form-textarea,
        .form-radio-other-input,
        .form-checkbox-other-input,
        .form-captcha input,
        .form-spinner input {
            background-color: rgba(255, 255, 255, 0.31);
        }

        .supernova {
            height: 100%;
            background-repeat: repeat;
            background-attachment: scroll;
            background-position: center top;
        }

        
        .form-all {
            background-image: none;
        }

        .ie-8 .form-all:before {
            display: none;
        }

        .ie-8 {
            margin-top: auto;
            margin-top: initial;
        }

        /*PREFERENCES STYLE*/ /*__INSPECT_SEPERATOR__*/
        /* Injected CSS Code */
    </style>

    @*<script src="https://cdn.jotfor.ms/static/prototype.forms.js" type="text/javascript"></script>*@
    
</head>
<body>
    <div class="container">
        <form asp-action="Create" asp-controller="Reservations" method="post">
            <div class="form-all">
                <ul class="form-section page-section">
                    <li id="cid_1" class="form-input-wide" data-type="control_head">
                        <div class="form-header-group ">
                            <div class="header-text httal htvam">
                                <h2 id="header_1" class="form-header" data-component="header">
                                    Personal&#x27;s Information
                                </h2>
                            </div>
                        </div>
                    </li>
                    <li class="form-line" data-type="control_fullname" id="id_3">
                        <label class="form-label form-label-left form-label-auto" id="label_3" for="first_3">  Name </label>
                        <div id="cid_3" class="form-input">
                            <div data-wrapper-react="true">
                                <span class="form-sub-label-container" style="vertical-align:top">
                                    <input asp-for="FirstName" class="form-textbox" size="10" value="" />
                                    <label class="form-sub-label" for="first_3" id="sublabel_first" style="min-height:13px;color:white;"> First Name </label>
                                    <span asp-validation-for="FirstName" class="text-danger"></span>
                                </span>
                                <span class="form-sub-label-container" style="vertical-align:top">
                                    <input asp-for="LastName" class="form-textbox" />
                                    <label class="form-sub-label" for="last_3" id="sublabel_last" style="min-height:13px;color:white;"> Last Name </label>
                                    <span asp-validation-for="LastName" class="text-danger"></span>
                                </span>
                            </div>
                        </div>
                    </li>
                    <li class="form-line" data-type="control_address" id="id_4">
                        <label class="form-label form-label-left form-label-auto" id="label_4" for="input_4undefined"> Address </label>
                        <div id="cid_4" class="form-input">
                            <table summary="" class="form-address-table" border="0" cellPadding="0" cellSpacing="0">
                                <tbody>
                                    <tr>
                                        <td colSpan="2">
                                            <span class="form-sub-label-container" style="vertical-align:top">
                                                <input asp-for="Address" class="form-textbox form-address-line" />
                                                <label class="form-sub-label" for="input_4_addr_line1" id="sublabel_4_addr_line1" style="min-height:13px;color:white;"> Street Address </label>
                                                <span asp-validation-for="Address" class="text-danger"></span>
                                            </span>
                                        </td>
                                    </tr>


                                    <tr>

                                        <td>
                                            <span class="form-sub-label-container" style="vertical-align:top">
                                                <input type="email" id="input_7" name="q7_email7" class="form-textbox validate[required, Email]" disabled size="30" value="Pakistan" data-component="Country" required="" />
                                                <label class="form-sub-label" for="input_4_country" id="sublabel_4_country" style="min-height:13px;color:white;"> Country </label>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </li>
                    <li class="form-line" data-type="control_phone" id="id_6">
                        <label class="form-label form-label-left form-label-auto"> Cell Number </label>
                        <div id="cid_6" class="form-input">
                            <div data-wrapper-react="true">

                                <span class="form-sub-label-container" style="vertical-align:top">
                                    <input asp-for="PhoneNo" class="form-textbox" type="number" />
                                    @*@foreach(var dat in ViewBag.ReservedDates)
                        {
                        <h1>@dat.ReservationDate</h1>

                        }*@
                                    <label class="form-sub-label" for="input_6_phone" id="sublabel_phone" style="min-height:13px;color:white;"> Phone Number </label>
                                    <span asp-validation-for="PhoneNo" class="text-danger"></span>
                                </span>
                            </div>
                        </div>
                    </li>

                    <li id="cid_19" class="form-input-wide" data-type="control_head">
                        <div class="form-header-group ">
                            <div class="header-text httal htvam">
                                <h2 id="header_19" class="form-header" data-component="header">
                                    Ceremony Details
                                </h2>
                            </div>
                        </div>
                    </li>
                    <li class="form-line form-line-column form-col-1 jf-required allowTime" data-type="control_datetime" id="id_20">
                        <label class="form-label form-label-top" id="label_20" for="month_20">
                            Date &amp; Time
                            <span class="form-required">
                                *
                            </span>
                        </label>
                        <div id="cid_20" class="form-input-wide jf-required">
                            <div data-wrapper-react="true">
                                <span class="form-sub-label-container" style="vertical-align:top">
                                    <input type="text" asp-for="ReservationDate" id="rrr" class="form-textbox" required="" />

                                    <label class="form-sub-label" for="month_20" id="sublabel_month" style="min-height:13px;color:white;"> Reservation Date </label>
                                </span>
                                <span asp-validation-for="ReservationDate" class="text-danger"></span>
                                <span style="white-space:nowrap;display:inline-block" class="allowTime-container">
                                    
                                    <span class="form-sub-label-container" style="vertical-align:top">
                                        <select asp-for="Time" class="form-dropdown" style="width:150px" data-component="dropdown">
                                            <option value="Lunch"> Lunch </option>
                                            <option value="Dinner">Dinner</option>
                                        </select>

                                        <label class="form-sub-label" for="hour_20" id="sublabel_hour" style="min-height:13px;color:white;"> Time </label>
                                    </span>

                                </span>

                            </div>
                        </div>
                    </li>



                    <li class="form-line" data-type="control_number" id="id_24">
                        <label class="form-label form-label-left form-label-auto" id="label_24" for="input_24"> Title </label>
                        <div id="cid_24" class="form-input">
                            <input asp-for="Title" class="form-textbox" />
                            <label class="form-sub-label" for="last_3" id="sublabel_last" style="min-height:13px;color:white;"> Title </label>
                            <span asp-validation-for="Title" class="text-danger"></span>
                        </div>
                    </li>

                    <li class="form-line" data-type="control_number" id="id_24">
                        <label class="form-label form-label-left form-label-auto" id="label_24" for="input_24"> Menu </label>
                        <div id="cid_24" class="form-input">
                            @if (ViewBag.Menu != null)
                            {
                                @Html.DropDownListFor(model => model.MenuId, ViewBag.Menu as SelectList, "--Select--", new { @class = "form-dropdown" })
                                @Html.ValidationMessageFor(m => m.MenuId, "", new { @class = "text-danger" })
                            }
                        </div>
                    </li>

                    <li class="form-line" data-type="control_number" id="dsf">
                        <label class="form-label form-label-left form-label-auto" id="label_24" for="input_24"> Guests </label>
                        <div id="cid_24" class="form-input">
                            <input asp-for="NumberofGuests" class="form-number-input form-textbox validate[Numeric]" type="number" style="width:60px" size="4" min="10" max="2000" value="" placeholder="ex: 200" data-component="number" />
                            <span asp-validation-for="NumberofGuests" class="text-danger"></span>
                        </div>
                    </li>

                    <li id="cid_29" class="form-input-wide" data-type="control_head">
                        <div class="form-header-group ">
                            <div class="header-text httal htvam">
                                <h2 id="header_29" class="form-header" data-component="header">
                                    Payment Details
                                </h2>
                            </div>
                        </div>
                    </li>
                    <li class="form-line" data-type="control_dropdown" id="id_30">
                        <label class="form-label form-label-left form-label-auto" id="label_30" for="input_30"> Payment Method </label>
                        <div id="cid_30" class="form-input">
                            <select asp-for="PaymentMethod" class="form-dropdown" style="width:150px" data-component="dropdown">
                                <option value=""> choose an option </option>
                                <option value="Cash">Cash</option>
                                <option value="Cheque"> Cheque </option>
                                <option value="AccountNo">Account Number</option>

                            </select>
                            <label class="form-sub-label" for="min_20" id="sublabel_minutes" style="min-height:13px;color:white;"> Account Number: 000-242-578122</label>
                        </div>
                    </li>
                    <li class="form-line" data-type="control_text" id="id_31">
                        <div id="cid_31" class="form-input-wide">
                            <div id="text_31" class="form-html" data-component="text">
                                <p>Please Note:</p>
                                <p>Your booking is not confirmed untill payment is received</p>
                            </div>
                        </div>
                    </li>
                    <li class="form-line" data-type="control_button" id="id_2">
                        <div id="cid_2" class="form-input-wide">
                            <div style="margin-left:156px" class="form-buttons-wrapper">
                                <button id="input_2" type="submit" class="form-submit-button">
                                    Submit Form
                                </button>
                                <span>

                                </span>
                                <button id="input_reset_2" type="reset" class="form-submit-reset" data-component="button">
                                    Clear Form
                                </button>
                                <span>

                                </span>
                                @*
                                <button id="input_print_2" style="margin-left:25px" type="button" class="form-submit-print" data-component="button">
                                    <img src="https://cdn.jotfor.ms/images/printer.png" style="vertical-align:middle" />
                                    <span id="span_print_2" class="span_print">
                                        Print Form
                                    </span>
                                </button>
                                *@
                            </div>
                        </div>
                    </li>
                    <li style="display:none">
                        Should be Empty:
                        <input type="text" name="website" value="" />
                    </li>
                </ul>
            </div>
            <input type="hidden" id="simple_spc" name="simple_spc" value="81840627858468" />
            <script type="text/javascript">
                document.getElementById("si" + "mple" + "_spc").value = "81840627858468-81840627858468";
            </script>
            <div class="formFooter-heightMask">
            </div>
            <div>
                <a asp-action="Index">Back to List</a>
            </div>
        </form>
    </div>
    <script>
        $(document).ready(function () {
            var alreadyReservedD = '@Html.Raw(Json.Serialize(ViewBag.ReservedDates))';
            
            //var reservDate = document.getElementById("rrr");
            //reservDate.valueAsDate = new Date();

            
            var todaysDate = new Date();
            todaysDate.setDate(todaysDate.getDate() + 3);
            todaysDate.getD
            //var todaysDate = todaysDate.valueOf() + 3;
            $('#rrr').datepicker({
                dateFormat: 'dd/mm/yy',
                minDate: todaysDate,
                beforeShowDay: function (date) {
                    var string = jQuery.datepicker.formatDate('yy-mm-dd', date);
                    return [alreadyReservedD.indexOf(string) == -1]
                }
            });


            //$('#ReservationDate').change(function () {
            //    $(this).attr('value', $('#ReservationDate').val());
            //});
            
            function convertDate(date) {
                var yyyy = date.getFullYear().toString();
                var mm = (date.getMonth() + 1).toString();
                var dd = date.getDate().toString();

                var mmChars = mm.split('');
                var ddChars = dd.split('');

                return yyyy + '-' + (mmChars[1] ? mm : "0" + mmChars[0]) + '-' + (ddChars[1] ? dd : "0" + ddChars[0]);
            }

            //reservDate.setAttribute("min", convertDate(todaysDate));
        });
    </script>
</body>
</html>

<footer>
    <p><center>&copy; 2018 - Wedding Vibes</center></p>
    <br />
</footer>
